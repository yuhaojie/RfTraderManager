/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/
;!function(){function a(A){return A.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(A){return"'"+A.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(B,C){function E(X){return N+=X.split(/\n/).length-1,L&&(X=X.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),X&&(X=T[1]+b(X)+T[2]+"\n"),X}function G(aa){var X=N;if(K?aa=K(aa,C):H&&(aa=aa.replace(/\n/g,function(){return N++,"$line="+N+";"})),0===aa.indexOf("=")){var Y=M&&!/^=[=#]/.test(aa);if(aa=aa.replace(/^=[=#]?|[\s;]*$/g,""),Y){var Z=aa.replace(/\s*\([^\)]+\)/,"");n[Z]||/^(include|print)$/.test(Z)||(aa="$escape("+aa+")")}else{aa="$string("+aa+")"}aa=T[1]+aa+T[2]}return H&&(aa="$line="+X+";"+aa),r(a(aa),function(ab){if(ab&&!O[ab]){var ac;ac="print"===ab?W:"include"===ab?A:n[ab]?"$utils."+ab:o[ab]?"$helpers."+ab:"$data."+ab,D+=ab+"="+ac+",",O[ab]=!0}}),aa+"\n"}var H=C.debug,I=C.openTag,J=C.closeTag,K=C.parser,L=C.compress,M=C.escape,N=1,O={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},Q="".trim,T=Q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],V=Q?"$out+=text;return $out;":"$out.push(text);",W="function(){var text=''.concat.apply('',arguments);"+V+"}",A="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+V+"}",D="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(H?"$line=0,":""),F=T[0],S="return new String("+T[3]+");";r(B.split(I),function(Y){Y=Y.split(J);var Z=Y[0],X=Y[1];1===Y.length?F+=E(Z):(F+=G(Z),X&&(F+=E(X)))});var U=D+F+S;H&&(U="try{"+U+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(B)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var P=new Function("$data","$filename",U);return P.prototype=n,P}catch(R){throw R.temp="function anonymous($data,$filename) {"+U+"}",R}}var d=function(A,B){return"string"==typeof B?q(B,{filename:A}):g(A,B)};d.version="3.0.0",d.config=function(A,B){e[A]=B};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(A,B){return q(A,B)};var g=d.renderFile=function(B,C){var A=d.get(B)||p({filename:B,name:"Render Error",message:"Template not found"});return C?A(C):A};d.get=function(C){var D;if(f[C]){D=f[C]}else{if("object"==typeof document){var A=document.getElementById(C);if(A){var B=(A.value||A.innerHTML).replace(/^\s*|\s*$/g,"");D=q(B,{filename:C})}}}return D};var h=function(A,B){return"string"!=typeof A&&(B=typeof A,"number"===B?A+="":A="function"===B?h(A.call(A)):""),A},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(A){return i[A]},k=function(A){return h(A).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(A){return"[object Array]"==={}.toString.call(A)},m=function(C,D){var A,B;if(l(C)){for(A=0,B=C.length;B>A;A++){D.call(C,C[A],A,C)}}else{for(A in C){D.call(C,C[A],A)}}},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(A,B){o[A]=B};var o=d.helpers=n.$helpers;d.onerror=function(B){var C="Template Error\n\n";for(var A in B){C+="<"+A+">\n"+B[A]+"\n\n"}"object"==typeof console&&console.error(C)};var p=function(A){return d.onerror(A),function(){return"{Template Error}"}},q=d.compile=function(E,G){function F(H){try{return new C(H,B)+""}catch(I){return G.debug?p(I)():(G.debug=!0,q(E,G)(H))}}G=G||{};for(var A in e){void 0===G[A]&&(G[A]=e[A])}var B=G.filename;try{var C=c(E,G)}catch(D){return D.filename=B||"anonymous",D.name="Syntax Error",p(D)}return F.prototype=C.prototype,F.toString=function(){return C.toString()},B&&G.cache&&(f[B]=F),F},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(D,E){var A=E.split(":"),B=A.shift(),C=A.join(":")||"";return C&&(C=", "+C),"$helpers."+B+"("+D+C+")"};e.parser=function(N){N=N.replace(/^\s/,"");var B=N.split(" "),F=B.shift(),G=B.join(" ");switch(F){case"if":N="if("+G+"){";break;case"else":B="if"===B.shift()?" if("+B.join(" ")+")":"",N="}else"+B+"{";break;case"/if":N="}";break;case"each":var H=B[0]||"$data",I=B[1]||"as",J=B[2]||"$value",K=B[3]||"$index",L=J+","+K;"as"!==I&&(H="[]"),N="$each("+H+",function("+L+"){";break;case"/each":N="});";break;case"echo":N="print("+G+");";break;case"print":case"include":N=F+"("+B.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(G)){var M=!0;0===N.indexOf("#")&&(N=N.substr(1),M=!1);for(var A=0,C=N.split("|"),D=C.length,E=C[A++];D>A;A++){E=z(E,C[A])}N=(M?"=":"=#")+E}else{N=d.helpers[F]?"=#"+F+"("+B.join(",")+");":"="+N}}return N},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}();